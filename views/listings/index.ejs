<style>
/* Container for horizontal scroll */
.listings-container {
  display: flex;
  gap: 1rem;
  overflow-x: auto;
  padding-bottom: 10px;
  scroll-behavior: smooth;
}

/* Hide scrollbar (optional) */
.listings-container::-webkit-scrollbar {
  display: none;
}
.listings-container {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

/* Fixed width cards */
.listing-card {
  flex: 0 0 280px; /* fixed width, no shrinking */
  border: none;
  border-radius: 15px;
  overflow: hidden;
  transition: 0.25s ease;
  cursor: pointer;
}

.listing-card:hover {
  transform: translateY(-4px);
}

.listing-card img {
  height: 200px;
  object-fit: cover;
  width: 100%;
  border-radius: 15px;
}

.tax-info {
  display: none;
}
</style>

<!-- Container with horizontal scroll -->
<div class="listings-container">

  <% if (allListings.length === 0) { %>
    <h4>No listings found.</h4>
  <% } %>

  <% for (let listing of allListings) { %>
    <a href="/listings/<%= listing._id %>" class="text-decoration-none text-dark" style="flex-shrink:0;">
      <div class="card listing-card h-100">
        <img 
          src="<%= listing.image?.url || '/images/default.jpg' %>" 
          class="card-img-top"
          alt="<%= listing.title %>"
        />
        <div class="card-body">
          <p class="card-text mb-0">
            <b><%= listing.title %></b><br>
            &#8377; <%= listing.price.toLocaleString("en-IN") %> / night
            <span class="tax-info"> +18% GST</span>
          </p>
        </div>
      </div>
    </a>
  <% } %>

</div>

<script>
const taxSwitch = document.getElementById("switchCheckDefault");

taxSwitch.addEventListener("click", () => {
  const taxInfo = document.getElementsByClassName("tax-info");
  for (let info of taxInfo) {
    info.style.display = taxSwitch.checked ? "inline" : "none";
  }
});
</script>
